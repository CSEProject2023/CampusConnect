<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Roboto:ital,wght@1,300&family=Tilt+Prism&display=swap" rel="stylesheet">
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="style/home.css" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="style/student_profile.css">
    <link rel="stylesheet" href="style/common.css">
    <script src="js/student_profile.js"></script>
</head>
<body>

<div id="main">
<div class="navbar">
  <button class="openbtn">CampusConnect</button>
  <button class="logout" onclick="window.location.href ='/logout'">Logout</button>
  </div>
  <h1>Admin Profile</h1>
        <form action="/saveAdminDetails" method="post" id="myForm">
        <div id="first">
        <label for="fname">First Name:</label>
        <input type="text" id="fname" name="fname" readonly="true" value="<%= admin_personal_data.firstname %>" ><br><br>
        
        <label for="lname">Last Name:</label>
        <input type="text" id="lname" name="lname" readonly="true"  value="<%= admin_personal_data.lastname %>"><br><br>

        <label for="dob">Date Of Birth:</label>
        <input type="text" id="dob" name="dob" readonly="true" value="<%= admin_personal_data.dob %>"><br><br>
        
        <label for="gender">Gender:</label><br>
        <div class="radio-buttons">
          <input type="radio" id="male" name="gender" value="male" readonly="true" <% if (admin_personal_data.gender === 'male') { %>checked<% } %>>
          <label for="male">Male</label><br>
          <input type="radio" id="female" name="gender" value="female" readonly="true" <% if (admin_personal_data.gender === 'female') { %>checked<% } %>>
          <label for="female">Female</label><br>
          <input type="radio" id="other" name="gender" value="other" readonly="true" <% if (admin_personal_data.gender === 'other') { %>checked<% } %>>
          <label for="other">Other</label><br>
        </div>
        
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" readonly="true"  value="<%= admin_personal_data.email %>"><br><br>
        
        <label for="phone">Phone Number:</label>
        <input type="tel" id="phone" name="phone" maxlength="10" readonly="true"  value="<%= admin_personal_data.phone %>"><br><br>

        <label for="address">Address:</label>
        <textarea id="address" name="address" rows="5" cols="50" readonly="true" ><%= admin_personal_data.address %></textarea>
        <br><br>

        <button name= "next" type="button" onclick="showSecondPage()" >Next</button>
        </div>
        <div id="second" style="display: none;">
        <h2>UG Details </h2>
        <label for="university_name">University Name:</label>
        <input type="text" id="univ_name" name="uni_name" readonly="true" value="<%= admin_ed_details.uni_name %>">
        <br>
        <label for="univ_course">Course:</label>
        <input type="text" id="univ_course" name="univ_course" readonly="true" value="<%= admin_ed_details.univ_course %>">
        <br>
        <label for="ug_board">Board of Education:</label>
        <div class="radio-btns">
          <input type="radio" id="autonomous" name="ug_board" value="Autonomous" readonly="true" <% if (admin_ed_details.ug_board === 'Autonomous') { %>checked<% } %>>
          <label for="autonomous">Autonomous</label><br>
          <input type="radio" id="JNTUK" name="ug_board" value="JNTUK"  readonly="true" <% if (admin_ed_details.ug_board === 'JNTUK') { %>checked<% } %>>
          <label for="JNTUK">JNTUK</label><br>
        </div>
        <br>
        <label for="univ_start_year">Start Year:</label>
        <input type="number" id="univ_start_year" name="univ_start_year" min="1900" max="2023"  readonly="true" value="<%= admin_ed_details.univ_start_year %>">
        <br>
        <label for="univ_end_year">End Year:</label>
        <input type="number" id="univ_end_year" name="univ_end_year" min="1900" max="2023"  readonly="true" value="<%= admin_ed_details.univ_end_year %>">
        <br>
        <label for="univ_cgpa">CGPA:</label>
        <input type="text" id="univ_cgpa" name="univ_cgpa" readonly="true" value="<%= admin_ed_details.univ_cgpa %>">
        <br>
        <h2>Intermediate / Diploma Details </h2>
        <label for="clg_name">College Name:</label>
        <input type="text" id="clg_name" name="clg_name"  readonly="true" value="<%= admin_ed_details.clg_name %>">
        <br>
        <label for="clg_course">Course:</label>
        <input type="text" id="clg_course" name="clg_course"  readonly="true" value="<%= admin_ed_details.clg_course %>">
        <br>
        <label for="clg_board">Board of Education:</label>
        <input type="text" id="clg_board" name="clg_board"  readonly="true" value="<%= admin_ed_details.clg_board %>">
        <br>
        <label for="clg_start_year">Start Year:</label>
        <input type="number" id="clg_start_year" name="clg_start_year" min="1900" max="2023"  readonly="true"value="<%= admin_ed_details.clg_start_year %>">
        <br>
        <label for="clg_end_year">End Year:</label>
        <input type="number" id="clg_end_year" name="clg_end_year" min="1900"  readonly="true" value="<%= admin_ed_details.clg_end_year %>">
        <br>
        <label for="clg_cgpa">CGPA:</label>
        <input type="text" id="clg_cgpa" name="clg_cgpa"  readonly="true" value="<%= admin_ed_details.clg_cgpa %>">
        
        <h2>SSC Details</h2>
        <label for="school_name">School Name:</label>
        <input type="text" id="school_name" name="scl_name"  readonly="true" value="<%= admin_ed_details.scl_name %>">
        <br>
        <label for="yop">Year of Passing:</label>
        <input type="number" id="yop" name="yop" min="1900" max="2023"  readonly="true" value="<%= admin_ed_details.yop %>">
        <br>
        <label for="school_cgpa">CGPA:</label>
        <input type="text" id="school_cgpa" name="scl_cgpa"  readonly="true" value="<%= admin_ed_details.scl_cgpa %>">
        <br>
        <label for="scl_board">Board of Education:</label>
        <input type="text" id="scl_board" name="scl_board"  readonly="true" value="<%= admin_ed_details.scl_board %>">
        <br>
        <button name= "prev" type="button" onclick="showFirstPage();">Previous</button>
      <button name="next" type="button" onclick="showThirdPage();">Next</button>
        </div>
        <div id="third" style="display: none;">
          <label for="skills">Skills:</label>
        <input type="text" id="skills" name="skills"  readonly="true" value="<%= admin_ed_details.skills%>">
        <br><br>
        <label for="skills">Projects:</label>
        <div id="projectsList">
        <% if(admin_projects != null && admin_projects.length == 0) { %>
  <div class="project">
    <label>Title:</label>
    <input type="text" name="title" readonly="true">
    <br>
    <label>Description:</label>
    <textarea name="description" readonly="true"></textarea>
    <br>
    <button type="button" class="remove-project">Remove</button>
  </div>
<% } else if(admin_projects != null ) { %>
  <% for (p of admin_projects) { %>
    <div class="project">
      <label>Title:</label>
      <input type="text" name="title" readonly="true" value="<%= p.title %>">
      <br>
      <label>Description:</label>
      <textarea name="description" readonly="true"><%= p.description %></textarea>
      <br>
      <button type="button" class="remove-project">Remove</button>
      <br>
    </div>
  <% } %>
<% } %>
        </div>
        <br>
        <button type="button" id="addProject" disabled>Add Project</button>
        <br><br>
        <label for="certificates">Certificates:</label>
        <input type="text" id="certificates" name="certificates"  readonly="true" value="<%= admin_ed_details.certi%>">
        <br><br>
        <label for="internships">Experience:</label>
        <div id="internshipsList">
          <% if(experience!=null && experience.length == 0) { %>
            <div class="internship">
            <label>Organization:</label>
            <input type="text" name="organization"  readonly="true" >
            <br>
            <label>Description:</label>
            <textarea name="jobDesc"  readonly="true"></textarea>
            <br>
          </div>
          <% } else if(experience!=null) { %>
  <% for (i of experience) { %>
    <div class="internship">
            <label>Organization:</label>
            <input type="text" name="organization"  readonly="true" value="<%= i.organization %>">
            <br>
            <label>Description:</label>
            <textarea name="jobDesc"  readonly="true"><%= i.jobDesc %></textarea>
            <br>
             <button type="button" class="remove-internship">Remove</button><br>
          </div>
<% } %>
<% } %>
        </div><br>
        <button type="button" id="addInternship" disabled>Add Experience</button>
        <br><br>
        <button name= "prev" type="button" onclick="showSecondPage();">Previous</button>
      </div>
      <button type="button" onclick="generatePDF()">Download Resume</button>
    </form>
</div>  
  
 <script src="https://cdn.jsdelivr.net/gh/bbbootstrap/libraries@main/choices.min.js"></script>
    <script>
      function generatePDF(){
            window.location.href = "/generatePDF";
        }
     const addProjectButton = document.getElementById("addProject");
      const projectsList = document.getElementById("projectsList");

      function addProject() {
  const projectDiv = document.createElement("div");
  projectDiv.classList.add("project");
  projectDiv.innerHTML = `
    <label>Title:</label>
    <input type="text" name="title"  >
    <br>
    <label>Description:</label>
    <textarea name="description"  ></textarea>
    <br>
    <button type="button" class="remove-project">Remove</button>
  `;
  projectsList.appendChild(projectDiv);
}
function removeProject(event) {
  const projectDiv = event.target.closest(".project");
  projectDiv.remove();
}

projectsList.addEventListener("click", function(event) {
  if (event.target.classList.contains("remove-project")) {
    removeProject(event);
  }
});

      addProjectButton.addEventListener("click", addProject);
      const addInternshipButton = document.getElementById("addInternship");
      const internshipsList = document.getElementById("internshipsList");

      function addInternship() {
        const internDiv = document.createElement("div");
        internDiv.classList.add("internship");
        internDiv.innerHTML = `
          <label>Company:</label>
          <input type="text" name="organization"  >
          <br>
          <label>Description:</label>
          <textarea name="jobDesc" ></textarea>
          <br>
          <button type="button" class="remove-internship">Remove</button>
        `;
        internshipsList.appendChild(internDiv);
      }
function removeInternship(event) {
  const internDiv = event.target.closest(".internship");
  internDiv.remove();
}

internshipsList.addEventListener("click", function(event) {
  if (event.target.classList.contains("remove-internship")) {
    removeInternship(event);
  }
});
      addInternshipButton.addEventListener("click", addInternship);


function toggleFormEditable(){
  const form = document.getElementById('myForm');
 const inputs = document.querySelectorAll('input, radio, textarea');
  for( input of inputs){
       if (input.readOnly === true) {
          input.readOnly = false;
       }else{
        input.readOnly = true;
       }
}
document.getElementById("addProject").disabled = false;
document.getElementById("addInternship").disabled = false;
document.getElementById("showEditMsg").style.display = "none";
}

        function showFirstPage(){
    document.getElementById('first').style.display='block';
    document.getElementById('second').style.display='none';
    document.getElementById('third').style.display='none';
  }
  function showSecondPage(){
    document.getElementById('first').style.display='none';
    document.getElementById('second').style.display='block';
    document.getElementById('third').style.display='none';
  }
  function showThirdPage(){
    document.getElementById('first').style.display='none';
    document.getElementById('second').style.display='none';
    document.getElementById('third').style.display='block';
  }
  
function openNav() {
  document.getElementById("mySidebar").style.width = "250px";
  document.getElementById("main").style.marginLeft = "250px";
}

/* Set the width of the sidebar to 0 and the left margin of the page content to 0 */
function closeNav() {
  document.getElementById("mySidebar").style.width = "0";
  document.getElementById("main").style.marginLeft = "0";
}


    </script>
</body>
</html>